<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SK MNÍŠECKO</title>
  <style>
    :root {
      --bg: #f7f7f5;
      --text: #1a1a1a;
      --muted: #666;
      --accent: #0b6bcb;
      --danger: #d64545;
      --success: #2e8b57;
      --card: #fff;
    }
    body {
      margin: 0; font-family: "Segoe UI", Tahoma, sans-serif; background: var(--bg); color: var(--text);
    }
    header {
      background: #111; color: #fff; padding: 12px 20px; display: flex; align-items: center; justify-content: space-between;
    }
    header a { color: #fff; text-decoration: none; margin-right: 12px; }
    main { max-width: 1100px; margin: 24px auto; padding: 0 16px; }
    .card { background: var(--card); padding: 16px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; }
    .tile { padding: 12px; border-radius: 10px; color: #fff; text-align: center; min-height: 90px; display: flex; flex-direction: column; justify-content: center; }
    .tile.red { background: var(--danger); }
    .tile.green { background: var(--success); }
    .btn { display: inline-block; padding: 8px 14px; border-radius: 6px; background: var(--accent); color: #fff; text-decoration: none; border: none; cursor: pointer; }
    .btn.secondary { background: #444; }
    .form-row { margin-bottom: 10px; }
    label { display: block; font-weight: 600; margin-bottom: 4px; }
    input, select { width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #ccc; }
    .muted { color: var(--muted); }
    .flash { background: #e9f5ff; padding: 10px 12px; border-radius: 6px; margin-bottom: 12px; }

    body.mobile-preview { background: #2a2f35; }
    .phone-preview {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 24px 16px;
      box-sizing: border-box;
    }
    .phone-frame {
      width: 390px;
      max-width: 100%;
      height: 844px;
      background: #0e1013;
      border-radius: 36px;
      padding: 12px;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.45);
      box-sizing: border-box;
    }
    .phone-screen {
      background: var(--bg);
      width: 100%;
      height: 100%;
      border-radius: 28px;
      overflow: auto;
    }
    body.mobile-preview header { padding: 12px; }
    body.mobile-preview main { max-width: none; margin: 16px 0 0; padding: 0 12px 12px; }
    .mobile-mode-badge {
      background: #26457b;
      color: #fff;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 12px;
      margin-right: 8px;
    }
  </style>
</head>
<body class="{% if request.mobile_preview %}mobile-preview{% endif %}">
  {% if request.mobile_preview %}
  <div class="phone-preview">
    <div class="phone-frame">
      <div class="phone-screen">
  {% endif %}
  <header>
    <div>
      <a href="/">SK MNÍŠECKO</a>
      <a href="/registrace/">Registrace</a>
    </div>
    <div>
      {% if request.mobile_preview %}
        <span class="mobile-mode-badge">Mobilní náhled</span>
        <a href="?mobile=0">Vypnout náhled</a>
      {% endif %}
      {% if user.is_authenticated %}
        <span class="muted">{{ user.email }}</span>
        <a href="/logout/">Odhlásit</a>
      {% else %}
        <a href="/login/{% if request.mobile_preview %}?mobile=1{% endif %}">Přihlásit</a>
      {% endif %}
    </div>
  </header>
  <main>
    {% if messages %}
      {% for message in messages %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    {% endif %}
    {% block content %}{% endblock %}
  </main>
  {% if request.mobile_preview %}
      </div>
    </div>
  </div>
  {% endif %}
</body>
</html>
